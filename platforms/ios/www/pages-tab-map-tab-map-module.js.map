{"version":3,"sources":["webpack:///./src/app/pages/tab-map/tab-map.module.ts","webpack:///./src/app/pages/tab-map/tab-map.page.html","webpack:///./src/app/pages/tab-map/tab-map.page.scss","webpack:///./src/app/pages/tab-map/tab-map.page.ts"],"names":[],"mappings":"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","file":"pages-tab-map-tab-map-module.js","sourcesContent":["import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { TabMapPage } from './tab-map.page';\n\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\nimport { NativeGeocoder } from '@ionic-native/native-geocoder/ngx';\n\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    RouterModule.forChild([{ path: '', component: TabMapPage }])\n  ],\n  declarations: [TabMapPage],\n  providers:[\n    Geolocation,\n    NativeGeocoder\n  ]\n})\nexport class TabMapPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>동물병원 지도</ion-title>\\n    <ion-button (click)=\\\"loadMap()\\\" shape=\\\"round\\\" fill=\\\"outline\\\" size=\\\"small\\\">\\n      <ion-icon slot=\\\"start\\\" name=\\\"locate\\\" ></ion-icon>\\n      Activate\\n    </ion-button>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div class=\\\"map-wrapper\\\">\\n    <div id=\\\"map_center\\\">\\n      <img src=\\\"../../assets/icon/center_marker.png\\\" />\\n    </div>\\n    <div #map id=\\\"map\\\"></div>\\n  </div>\\n</ion-content>\\n\\n<ion-footer>\\n  <ion-toolbar>\\n    <ion-searchbar animated spellcheck=\\\"false\\\" type=\\\"text\\\"></ion-searchbar>\\n    <div id=\\\"address\\\">\\n      <span>{{address}}</span>\\n    </div>\\n  </ion-toolbar>\\n</ion-footer>\"","module.exports = \"#map_canvas {\\n  width: 90%;\\n  height: 80%;\\n  border: 1px solid red; }\\n\\n#address {\\n  padding: 10px;\\n  font-size: 18px;\\n  font-weight: bold; }\\n\\n#map {\\n  width: 100%;\\n  height: 70vh; }\\n\\n.map-wrapper {\\n  position: relative; }\\n\\n.map-wrapper #map_center {\\n    position: absolute;\\n    z-index: 99;\\n    height: 40px;\\n    width: 40px;\\n    top: 50%;\\n    left: 50%;\\n    margin-left: -21px;\\n    margin-top: -41px; }\\n\\nion-title {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  text-align: center; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9zaW5kb25nbWluL2RvbnRodXJ0ZG90by9zcmMvYXBwL3BhZ2VzL3RhYi1tYXAvdGFiLW1hcC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxVQUFVO0VBQ1YsV0FBVztFQUNYLHFCQUFxQixFQUFBOztBQUl2QjtFQUNFLGFBQWE7RUFDYixlQUFlO0VBQ2YsaUJBQWlCLEVBQUE7O0FBR25CO0VBQ0UsV0FBVztFQUNYLFlBQVksRUFBQTs7QUFHZDtFQUNFLGtCQUFrQixFQUFBOztBQURwQjtJQUlJLGtCQUFrQjtJQUNsQixXQUFXO0lBQ1gsWUFBWTtJQUNaLFdBQVc7SUFDWCxRQUFRO0lBQ1IsU0FBUztJQUNULGtCQUFrQjtJQUNsQixpQkFBaUIsRUFBQTs7QUFHdkI7RUFDRSxrQkFBa0I7RUFDbEIsTUFBTTtFQUNOLE9BQU87RUFDUCxXQUFXO0VBQ1gsWUFBWTtFQUNaLGtCQUFrQixFQUFBIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvdGFiLW1hcC90YWItbWFwLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiNtYXBfY2FudmFzIHtcbiAgICB3aWR0aDogOTAlO1xuICAgIGhlaWdodDogODAlO1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIHJlZDtcbiAgfVxuICBcbiAgXG4gICNhZGRyZXNzIHtcbiAgICBwYWRkaW5nOiAxMHB4O1xuICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbiAgfVxuICBcbiAgI21hcCB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiA3MHZoO1xuICB9XG4gIFxuICAubWFwLXdyYXBwZXIge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgXG4gICAgI21hcF9jZW50ZXIge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgei1pbmRleDogOTk7XG4gICAgICBoZWlnaHQ6IDQwcHg7XG4gICAgICB3aWR0aDogNDBweDtcbiAgICAgIHRvcDogNTAlO1xuICAgICAgbGVmdDogNTAlO1xuICAgICAgbWFyZ2luLWxlZnQ6IC0yMXB4O1xuICAgICAgbWFyZ2luLXRvcDogLTQxcHg7XG4gICAgfVxuICB9XG5pb24tdGl0bGUge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufSJdfQ== */\"","import { Component, ViewChild, ElementRef } from '@angular/core';\n\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\nimport { NativeGeocoder, NativeGeocoderReverseResult, NativeGeocoderOptions } from '@ionic-native/native-geocoder/ngx';\n\ndeclare var google;\n\n@Component({\n  selector: 'app-tab-map',\n  templateUrl: 'tab-map.page.html',\n  styleUrls: ['tab-map.page.scss']\n})\nexport class TabMapPage {\n\n  @ViewChild('map') mapElement: ElementRef;\n  map: any;\n  address:string;\n\n  constructor(\n    private geolocation: Geolocation,\n    private nativeGeocoder: NativeGeocoder) {\n  }\n\n\n  ngOnInit() {\n    this.loadMap();\n  }\n\n  loadMap() {\n    this.geolocation.getCurrentPosition().then((resp) => {\n      let latLng = new google.maps.LatLng(resp.coords.latitude, resp.coords.longitude);\n      let mapOptions = {\n        center: latLng,\n        zoom: 15,\n        mapTypeId: google.maps.MapTypeId.ROADMAP\n      }\n\n      this.getAddressFromCoords(resp.coords.latitude, resp.coords.longitude);\n\n      this.map = new google.maps.Map(this.mapElement.nativeElement, mapOptions);\n\n      this.map.addListener('tilesloaded', () => {\n        console.log('accuracy',this.map);\n        this.getAddressFromCoords(this.map.center.lat(), this.map.center.lng())\n      });\n\n    }).catch((error) => {\n      console.log('Error getting location', error);\n    });\n  }\n\n  getAddressFromCoords(lattitude, longitude) {\n    console.log(\"getAddressFromCoords \"+lattitude+\" \"+longitude);\n    let options: NativeGeocoderOptions = {\n      useLocale: true,\n      maxResults: 5\n    };\n\n    this.nativeGeocoder.reverseGeocode(lattitude, longitude, options)\n      .then((result: NativeGeocoderReverseResult[]) => {\n        this.address = \"\";\n        let responseAddress = [];\n        for (let [key, value] of Object.entries(result[0])) {\n          if(value.length>0)\n          responseAddress.push(value);\n\n        }\n        responseAddress.reverse();\n        for (let value of responseAddress) {\n          this.address += value+\", \";\n        }\n        this.address = this.address.slice(0, -2);\n      })\n      .catch((error: any) =>{ \n        this.address = \"Address Not Available!\";\n      });\n\n  }\n\n}"],"sourceRoot":""}